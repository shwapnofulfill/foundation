<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Donate - Sopno Puron Foundation</title>
<link rel="stylesheet" href="style.css">
<script src="firebase.js"></script>
<script>
function submitDonate(e){
  e.preventDefault();
  if(!window.db){ alert('Firebase not ready'); return; }
  const name = document.getElementById('donor_name').value.trim();
  const phone = document.getElementById('donor_phone').value.trim();
  const amount = Number(document.getElementById('donation_amount').value);
  const method = document.getElementById('donation_method').value;
  db.collection('donations').add({
    name, phone, amount, method, createdAt: firebase.firestore.FieldValue.serverTimestamp()
  }).then(()=>{
    document.getElementById('donate_note').textContent='ধন্যবাদ — আপনার অনুদান রেকর্ড করা হয়েছে।';
    e.target.reset();
  }).catch(err=> alert('Error saving donation: '+err.message));
}

function toggleMenu() {
  const menu = document.getElementById('mobileMenu');
  menu.style.display = menu.style.display === 'flex' ? 'none' : 'flex';
}

function toggleShare() {
  const btn = document.querySelector('.share-dropdown button');
  btn.style.display = btn.style.display === 'block' ? 'none' : 'block';
}

function sharePage() {
  if (navigator.share) {
    navigator.share({
      title: document.title,
      url: window.location.href
    }).catch((error) => console.log('Error sharing', error));
  } else {
    alert('Your browser does not support the share feature.');
  }
}
</script>
<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f9f9f9; color:#333; }

header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background-color: #4CAF50;
  color: white;
  padding: 10px 20px;
}

header img { height: 50px; }
header h1 { margin-left:10px; font-size:1.5rem; }
.menu-icon { font-size: 1.5rem; cursor: pointer; display:none; }

nav { background-color:#2e7d32; display:flex; justify-content:center; }
nav a { color:white; text-decoration:none; padding:10px 20px; display:block; }
nav a:hover { background-color:#1b5e20; }

.section { max-width:500px; margin:30px auto; padding:20px; background:#fff; border-radius:10px; box-shadow:0 3px 8px rgba(0,0,0,0.1); }

.section h2 { text-align:center; margin-bottom:15px; color:#1e90ff; }
.section input, .section select, .section button {
  width:100%; padding:10px; margin-bottom:12px; border-radius:6px; border:1px solid #ccc;
}
.section button { background:#1e90ff; color:white; border:none; cursor:pointer; transition:background 0.3s; }
.section button:hover { background:#0d6efd; }

#donate_note { color:green; font-weight:bold; text-align:center; margin-top:10px; }

/* Desktop Share */
.share-desktop {
  position: fixed;
  top:20px;
  right:20px;
  font-size:14px;
  color:#4CAF50;
  cursor:pointer;
  z-index:1000;
}

/* Mobile 3-dot Share */
.share-dropdown {
  position: fixed;
  bottom:20px;
  right:20px;
  display:none;
  flex-direction: column;
  align-items:flex-end;
  z-index:1000;
}
.share-dropdown span { font-size:2rem; cursor:pointer; color:#4CAF50; }
.share-dropdown button {
  display:none;
  margin-top:5px;
  padding:10px 15px;
  border:none;
  border-radius:5px;
  background:#4CAF50;
  color:white;
  cursor:pointer;
  box-shadow:0 3px 6px rgba(0,0,0,0.1);
  transition: background 0.3s;
}
.share-dropdown button:hover { background:#388E3C; }

/* Footer */
footer { text-align:center; padding:15px; background:#2e7d32; color:white; }

/* Responsive */
@media(max-width:768px){
  .menu-icon { display:block; }
  nav { display:none; flex-direction:column; }
  nav a { border-top:1px solid #1b5e20; }
  .share-desktop { display:none; }
  .share-dropdown { display:flex; }
}
</style>
<body>

<header>
  <img src="images/logo.png" alt="Logo">
  <h1>Sopno Puron Foundation</h1>
  <span class="menu-icon" onclick="toggleMenu()">☰</span>
</header>

<nav id="mobileMenu">
  <a href="index.html">Home</a>
  <a href="about.html">About Us</a>
  <a href="work.html">Our Work</a>
  <a href="contact.html">Contact</a>
</nav>

<!-- Desktop Share -->
<div class="share-desktop" onclick="sharePage()">Share</div>

<div class="section">
  <h2>Donate</h2>
  <form onsubmit="submitDonate(event)">
    <input id="donor_name" placeholder="Full Name" required>
    <input id="donor_phone" placeholder="Phone Number" required>
    <input id="donation_amount" type="number" placeholder="Amount (৳)" required>
    <select id="donation_method">
      <option>Bkash</option>
      <option>Nagad</option>
      <option>Rocket</option>
    </select>
    <button type="submit">Donate Now</button>
  </form>
  <p id="donate_note"></p>
</div>

<!-- Mobile 3-dot Share -->
<div class="share-dropdown">
  <span onclick="toggleShare()">⋮</span>
  <button onclick="sharePage()">Share Website</button>
</div>

<footer>
Developed by <a href="https://facebook.com/rafahimn" target="_blank">RA Fahim</a>
</footer>

</body>
</html>
